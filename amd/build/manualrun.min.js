define(["jquery","local_datahub/papaparse","theme_bootstrapbase/bootstrap","core/log"],function(a,b,c,d){"use strict";function e(){Y.log("launch_warning()"),a("#manual_import_modal").modal({show:!0,backdrop:!0}),a("#modal_manual_import_confirm").click(function(a){window.location.href=h})}function f(c){var d="fitem_"+c,f=a("#"+d+" .filepicker-filename a");f=a(f).attr("href");var g,h,i;g=a.ajax({type:"GET",url:f,dataType:"text/csv",error:function(a){Y.log("Error fetching CSV for size check: "),Y.log(a.errors)},complete:function(a){Y.log("CSV fetch complete."),h=a.responseText,i=b.parse(h);var c=i.data.length-2;c>50&&e()}})}function g(){Y.log("bind_events"),a("#id_file0, #id_file1, #id_file2").on("change",function(b){Y.log("Change to: "+b.target);var c=a(b.target).attr("id");f(c)})}var h="";return{initialize:function(b){a(document).ready(function(){Y.log("manualrun.js init."),Y.log(b),h=b,g()})}}});